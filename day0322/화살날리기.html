<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>클래스</title>
<!-- 랜덤 가져오기 -->
<script src="../js/lib.js"></script> 
<script>

    var arrow=[];
    var colorArray=["red","pink","orange","black","blue","yellowgreen","purple"];
    var textArray=["♭","♩","♪","♬","◆","☆","★","◐","◑","○","●","◎","⊙","◈","◇","△","▲","▽","▼","□","■","◁","◀","▷","▶","◇","◆","♤","♠","♡","♥","♧","♣"];
    
    // 1회성이 아닌, 추후 두고두고 써먹을 코드 영역을 지정한 후 , 거푸짚으로 선언하자!!
    // 전산에서는 이 코드 단위를 클래스라 한다.
    // 2015년 부터 ECMAScript(javascript명칭)에서는 class지원하기 시작함!!
    // 클래스 명은 java, c#등에서 첫 철자를 대문자로 작성함 이 약속임!!

    class Arrow{ //화살 자체가 아니라 장차 화살을 만들어 낼 틀! 즉 물건 자체가 아니다!!
        // 자바스크립트에서는 사물이 보유한 변수는 constructor()라는 함수 
        // 즉 생성자함수 내에 작성해야한느 규칙

        constructor(y,color,velX,text){                                          
            this.span;
            this.velX=velX; //x좌표의 속도
            this.x=0; //span의 x좌표
            this.y=y;// 매개변수
            this.color =color;
            this.text = text;
        }
        
        // 사물이 보유한 함수를 가리켜 그 사물의 동작방식, 방법을 표현한다고 하여
        // 메서드 method라 한다.

        init(){
            this.span = document.createElement("span");
            
            this.span.style.position="absolute";
            this.span.style.left=0+"px";
            this.span.style.top = this.y+"px";
            this.span.innerText=this.text;
            this.span.style.fontSize=20+"px";
            this.span.style.color=this.color; //색상적용
            //body에 부착!
            document.body.appendChild(this.span);
        }
    
        // 움직이기
        move(){
            this.x = this.x+this.velX; //x=x+10 즉 10씩 누적
            this.span.style.left = this.x+"px";
        }
    }


    // 화살을 날릴수 있는 함수
    function auto(){
        for(var i=0;i<arrow.length;i++){
            arrow[i].move();
        }
    }

    window.addEventListener("load",function(){
        // 원하는 만큼 거푸짚으로부터 화살을 생성해보자! 즉 쇳물 붓기!!
        for(var i=0;i<100;i++){
            arrow[i] = new Arrow(i*10,colorArray[getRandom(colorArray.length)], getRandom(20)+1, textArray[getRandom(textArray.length)]); //constructor() 생성자 함수의 매개변수에 y값 전달
            arrow[i].init();   
        }
        setInterval("auto()",100);
    });

</script>
</head>
<body>
    
</body>
</html>